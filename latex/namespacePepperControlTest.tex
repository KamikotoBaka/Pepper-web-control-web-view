\doxysection{Pepper\+Control\+Test Namespace Reference}
\hypertarget{namespacePepperControlTest}{}\label{namespacePepperControlTest}\index{PepperControlTest@{PepperControlTest}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacePepperControlTest_a3004c5ee38a4dc24473eb3b76f7810ac}{get\+State}} (base\+URL, item\+Name, auth)
\item 
\mbox{\hyperlink{namespacePepperControlTest_a69c4d05f50ef7474e75d22a4eb068135}{send\+Command}} (base\+URL, item\+Name, command, auth)
\item 
\mbox{\hyperlink{namespacePepperControlTest_ac5cc10033f72f75b67de30510db9c585}{post\+Update}} (base\+URL, item\+Name, state, auth)
\item 
\mbox{\hyperlink{namespacePepperControlTest_a1dafbe3a2716978611ed5a1e4b5a4dc3}{Item\+State\+Event}} (base\+URL, item\+Name, memory, auth)
\item 
\mbox{\hyperlink{namespacePepperControlTest_a5b976f14a6156bbc07805f3823b473cc}{send\+\_\+openhab\+\_\+command}} (item, command)
\item 
\mbox{\hyperlink{namespacePepperControlTest_aaf3345d3ad72b6aba4a1defd5d9aed26}{send\+\_\+multipple\+\_\+commands}} (items, command)
\item 
\Hypertarget{namespacePepperControlTest_ae5cb4fba4387c43e667177c442b75f36}\label{namespacePepperControlTest_ae5cb4fba4387c43e667177c442b75f36} 
{\bfseries all\+\_\+lights\+\_\+on} ()
\item 
\Hypertarget{namespacePepperControlTest_add04a35fdf4b55240dd9d99a70410898}\label{namespacePepperControlTest_add04a35fdf4b55240dd9d99a70410898} 
{\bfseries all\+\_\+lights\+\_\+off} ()
\item 
\Hypertarget{namespacePepperControlTest_ad345f6d6e47429bdf971955c9439c92b}\label{namespacePepperControlTest_ad345f6d6e47429bdf971955c9439c92b} 
{\bfseries i\+Kueche\+\_\+lights\+\_\+on} ()
\item 
\Hypertarget{namespacePepperControlTest_a01efc1ecb95fd954a45b9654eb98ba1a}\label{namespacePepperControlTest_a01efc1ecb95fd954a45b9654eb98ba1a} 
{\bfseries i\+Kueche\+\_\+lights\+\_\+off} ()
\item 
\Hypertarget{namespacePepperControlTest_aae6021da9609052811cd2d86e4a8fa99}\label{namespacePepperControlTest_aae6021da9609052811cd2d86e4a8fa99} 
{\bfseries i\+Bad\+\_\+lights\+\_\+on} ()
\item 
\Hypertarget{namespacePepperControlTest_a11e839bda065006c99409ebd527e9637}\label{namespacePepperControlTest_a11e839bda065006c99409ebd527e9637} 
{\bfseries i\+Bad\+\_\+lights\+\_\+off} ()
\item 
\Hypertarget{namespacePepperControlTest_a7ebacfca1396d9b57e6c99fb12cdbf39}\label{namespacePepperControlTest_a7ebacfca1396d9b57e6c99fb12cdbf39} 
{\bfseries i\+IOT\+\_\+lights\+\_\+on} ()
\item 
\Hypertarget{namespacePepperControlTest_a6b98854a62833331a9eb3a29f74175ec}\label{namespacePepperControlTest_a6b98854a62833331a9eb3a29f74175ec} 
{\bfseries i\+IOT\+\_\+lights\+\_\+off} ()
\item 
\Hypertarget{namespacePepperControlTest_a9851ebef101954faaef65f1ed17e9822}\label{namespacePepperControlTest_a9851ebef101954faaef65f1ed17e9822} 
{\bfseries i\+Multimedia\+\_\+lights\+\_\+on} ()
\item 
\Hypertarget{namespacePepperControlTest_a59251427251a473ee9cfb3a3a961e11d}\label{namespacePepperControlTest_a59251427251a473ee9cfb3a3a961e11d} 
{\bfseries i\+Multimedia\+\_\+lights\+\_\+off} ()
\item 
\Hypertarget{namespacePepperControlTest_a30224bd1f44c3714bdcec68ef34993b1}\label{namespacePepperControlTest_a30224bd1f44c3714bdcec68ef34993b1} 
{\bfseries i\+Konferenz\+\_\+\+Rolladen\+\_\+down} (base\+URL, auth, memory, tts=None)
\item 
\Hypertarget{namespacePepperControlTest_a35fb46aa225c9cdd23a357e65180d2ca}\label{namespacePepperControlTest_a35fb46aa225c9cdd23a357e65180d2ca} 
{\bfseries i\+Multimedia\+\_\+\+Rolladen\+\_\+down} (base\+URL, auth, memory, tts=None)
\item 
\Hypertarget{namespacePepperControlTest_aba61c6b629e2248671952667f2afd06d}\label{namespacePepperControlTest_aba61c6b629e2248671952667f2afd06d} 
{\bfseries all\+\_\+\+Rolladen\+\_\+down} (base\+URL, auth, memory, tts=None)
\item 
\Hypertarget{namespacePepperControlTest_a2a1af29f66e8bd78cf08530fb357b726}\label{namespacePepperControlTest_a2a1af29f66e8bd78cf08530fb357b726} 
{\bfseries all\+\_\+\+Rolladen\+\_\+up} (base\+URL, auth, memory, tts=None)
\item 
\Hypertarget{namespacePepperControlTest_a1ac250c321e7a04eb81e5ff24434a94d}\label{namespacePepperControlTest_a1ac250c321e7a04eb81e5ff24434a94d} 
{\bfseries all\+\_\+\+Rolladen\+\_\+stop} (base\+URL, auth, memory, tts=None)
\item 
\Hypertarget{namespacePepperControlTest_a366ded689fda2075a27b59268c46806d}\label{namespacePepperControlTest_a366ded689fda2075a27b59268c46806d} 
{\bfseries i\+Labor\+\_\+light\+\_\+color} (color, base\+URL, auth)
\item 
\Hypertarget{namespacePepperControlTest_aa506cb93e4ee7c62abd1470281ca7c6f}\label{namespacePepperControlTest_aa506cb93e4ee7c62abd1470281ca7c6f} 
{\bfseries i\+Labor\+\_\+light\+\_\+brightness} (value, base\+URL, auth)
\item 
\Hypertarget{namespacePepperControlTest_aaa6e61afe12c61e7c9e396b58598999e}\label{namespacePepperControlTest_aaa6e61afe12c61e7c9e396b58598999e} 
{\bfseries linkinpark} (value)
\item 
\mbox{\hyperlink{namespacePepperControlTest_a6374484d90a46bb3d4eb3ed829d231cd}{handle\+\_\+command}} (phrase, tts, base\+URL, auth, memory)
\item 
\mbox{\hyperlink{namespacePepperControlTest_a0f4337a12b8076d0c411133b85077d2c}{start\+\_\+speech\+\_\+recognition}} (speech\+\_\+session, stop\+\_\+event)
\item 
\mbox{\hyperlink{namespacePepperControlTest_a3e5f67f170f1dad1bba51d3a3cae9a1e}{main}} (session, stop\+\_\+event)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{namespacePepperControlTest_a773a232ad50081ac7a0da9537a05b400}\label{namespacePepperControlTest_a773a232ad50081ac7a0da9537a05b400} 
int {\bfseries last\+\_\+command\+\_\+time} = 0
\item 
\Hypertarget{namespacePepperControlTest_a304bb974c9a2276225a0b231d78795f9}\label{namespacePepperControlTest_a304bb974c9a2276225a0b231d78795f9} 
str {\bfseries last\+\_\+phrase} = "{}"{}
\item 
\Hypertarget{namespacePepperControlTest_a5970bbe11378b66b1738ede5367089b4}\label{namespacePepperControlTest_a5970bbe11378b66b1738ede5367089b4} 
int {\bfseries COMMAND\+\_\+\+DELAY} = 3
\item 
\Hypertarget{namespacePepperControlTest_ac1094cd9accc5bc369b9f3e498873364}\label{namespacePepperControlTest_ac1094cd9accc5bc369b9f3e498873364} 
int {\bfseries PHRASE\+\_\+\+RESET\+\_\+\+DELAY} = 5
\item 
\Hypertarget{namespacePepperControlTest_ad4bd9b0c3c2c2bc898a0b86e43d099c1}\label{namespacePepperControlTest_ad4bd9b0c3c2c2bc898a0b86e43d099c1} 
{\bfseries session} = qi.\+Session()
\item 
\Hypertarget{namespacePepperControlTest_aeaaeceb8ca4c774ca8b576645f2446ae}\label{namespacePepperControlTest_aeaaeceb8ca4c774ca8b576645f2446ae} 
{\bfseries stop\+\_\+event} = threading.\+Event()
\item 
\Hypertarget{namespacePepperControlTest_a28ee3f3131fc638676b9719a7f9a3624}\label{namespacePepperControlTest_a28ee3f3131fc638676b9719a7f9a3624} 
{\bfseries speech\+\_\+thread} = threading.\+Thread(target=\mbox{\hyperlink{namespacePepperControlTest_a0f4337a12b8076d0c411133b85077d2c}{start\+\_\+speech\+\_\+recognition}}, args=(session,stop\+\_\+event))
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}@file PepperControlTest.py
@brief Control script for the Pepper robot using OpenHAB (Smart Home platform).

This script enables speech command recognition and controls smart devices
such as lights, blinds, audio, and appliances via OpenHAB's REST API.
It includes live status updates using Server-Sent Events (SSE).

@author KamikotoBaka
@date 2025-06-13
\end{DoxyVerb}
 

\label{doc-func-members}
\Hypertarget{namespacePepperControlTest_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{namespacePepperControlTest_a3004c5ee38a4dc24473eb3b76f7810ac}\index{PepperControlTest@{PepperControlTest}!getState@{getState}}
\index{getState@{getState}!PepperControlTest@{PepperControlTest}}
\doxysubsubsection{\texorpdfstring{getState()}{getState()}}
{\footnotesize\ttfamily \label{namespacePepperControlTest_a3004c5ee38a4dc24473eb3b76f7810ac} 
Pepper\+Control\+Test.\+get\+State (\begin{DoxyParamCaption}\item[{}]{base\+URL}{, }\item[{}]{item\+Name}{, }\item[{}]{auth}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Retrieves the current state of an OpenHAB item.
@param baseURL Base URL of the OpenHAB server
@param itemName Name of the OpenHAB item
@param auth Tuple of username and password for authentication
@return The state of the item or "UNDEFINED" in case of an error
\end{DoxyVerb}
 \Hypertarget{namespacePepperControlTest_a6374484d90a46bb3d4eb3ed829d231cd}\index{PepperControlTest@{PepperControlTest}!handle\_command@{handle\_command}}
\index{handle\_command@{handle\_command}!PepperControlTest@{PepperControlTest}}
\doxysubsubsection{\texorpdfstring{handle\_command()}{handle\_command()}}
{\footnotesize\ttfamily \label{namespacePepperControlTest_a6374484d90a46bb3d4eb3ed829d231cd} 
Pepper\+Control\+Test.\+handle\+\_\+command (\begin{DoxyParamCaption}\item[{}]{phrase}{, }\item[{}]{tts}{, }\item[{}]{base\+URL}{, }\item[{}]{auth}{, }\item[{}]{memory}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Main handler for incoming speech commands.
@param phrase Recognized speech phrase
@param tts ALTextToSpeech object
@param baseURL OpenHAB address
@param auth Authentication credentials
@param memory ALMemory instance
\end{DoxyVerb}
 \Hypertarget{namespacePepperControlTest_a1dafbe3a2716978611ed5a1e4b5a4dc3}\index{PepperControlTest@{PepperControlTest}!ItemStateEvent@{ItemStateEvent}}
\index{ItemStateEvent@{ItemStateEvent}!PepperControlTest@{PepperControlTest}}
\doxysubsubsection{\texorpdfstring{ItemStateEvent()}{ItemStateEvent()}}
{\footnotesize\ttfamily \label{namespacePepperControlTest_a1dafbe3a2716978611ed5a1e4b5a4dc3} 
Pepper\+Control\+Test.\+Item\+State\+Event (\begin{DoxyParamCaption}\item[{}]{base\+URL}{, }\item[{}]{item\+Name}{, }\item[{}]{memory}{, }\item[{}]{auth}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Starts an SSE (Server-Sent Events) listener for an OpenHAB item.
@param baseURL OpenHAB server URL
@param itemName Item to monitor
@param memory ALMemory service to store and raise events
@param auth Authentication credentials
\end{DoxyVerb}
 \Hypertarget{namespacePepperControlTest_a3e5f67f170f1dad1bba51d3a3cae9a1e}\index{PepperControlTest@{PepperControlTest}!main@{main}}
\index{main@{main}!PepperControlTest@{PepperControlTest}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily \label{namespacePepperControlTest_a3e5f67f170f1dad1bba51d3a3cae9a1e} 
Pepper\+Control\+Test.\+main (\begin{DoxyParamCaption}\item[{}]{session}{, }\item[{}]{stop\+\_\+event}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Initializes tablet UI and SSE event listeners for items.
@param session qi.Session object for Pepper
@param stop_event Thread event to stop program
\end{DoxyVerb}
 \Hypertarget{namespacePepperControlTest_ac5cc10033f72f75b67de30510db9c585}\index{PepperControlTest@{PepperControlTest}!postUpdate@{postUpdate}}
\index{postUpdate@{postUpdate}!PepperControlTest@{PepperControlTest}}
\doxysubsubsection{\texorpdfstring{postUpdate()}{postUpdate()}}
{\footnotesize\ttfamily \label{namespacePepperControlTest_ac5cc10033f72f75b67de30510db9c585} 
Pepper\+Control\+Test.\+post\+Update (\begin{DoxyParamCaption}\item[{}]{base\+URL}{, }\item[{}]{item\+Name}{, }\item[{}]{state}{, }\item[{}]{auth}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Updates the state of an OpenHAB item.
@param baseURL OpenHAB server URL
@param itemName Item to be updated
@param state New state as string
@param auth HTTP authentication tuple
\end{DoxyVerb}
 \Hypertarget{namespacePepperControlTest_aaf3345d3ad72b6aba4a1defd5d9aed26}\index{PepperControlTest@{PepperControlTest}!send\_multipple\_commands@{send\_multipple\_commands}}
\index{send\_multipple\_commands@{send\_multipple\_commands}!PepperControlTest@{PepperControlTest}}
\doxysubsubsection{\texorpdfstring{send\_multipple\_commands()}{send\_multipple\_commands()}}
{\footnotesize\ttfamily \label{namespacePepperControlTest_aaf3345d3ad72b6aba4a1defd5d9aed26} 
Pepper\+Control\+Test.\+send\+\_\+multipple\+\_\+commands (\begin{DoxyParamCaption}\item[{}]{items}{, }\item[{}]{command}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Sends the same command to multiple OpenHAB items.
@param items List of item names
@param command Command to apply
@return True if all commands succeed, False otherwise
\end{DoxyVerb}
 \Hypertarget{namespacePepperControlTest_a5b976f14a6156bbc07805f3823b473cc}\index{PepperControlTest@{PepperControlTest}!send\_openhab\_command@{send\_openhab\_command}}
\index{send\_openhab\_command@{send\_openhab\_command}!PepperControlTest@{PepperControlTest}}
\doxysubsubsection{\texorpdfstring{send\_openhab\_command()}{send\_openhab\_command()}}
{\footnotesize\ttfamily \label{namespacePepperControlTest_a5b976f14a6156bbc07805f3823b473cc} 
Pepper\+Control\+Test.\+send\+\_\+openhab\+\_\+command (\begin{DoxyParamCaption}\item[{}]{item}{, }\item[{}]{command}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Sends a raw OpenHAB command using urllib2.
@param item Item name in OpenHAB
@param command Command to send (e.g., "ON")
@return True if the command succeeded (HTTP 202), False otherwise
\end{DoxyVerb}
 \Hypertarget{namespacePepperControlTest_a69c4d05f50ef7474e75d22a4eb068135}\index{PepperControlTest@{PepperControlTest}!sendCommand@{sendCommand}}
\index{sendCommand@{sendCommand}!PepperControlTest@{PepperControlTest}}
\doxysubsubsection{\texorpdfstring{sendCommand()}{sendCommand()}}
{\footnotesize\ttfamily \label{namespacePepperControlTest_a69c4d05f50ef7474e75d22a4eb068135} 
Pepper\+Control\+Test.\+send\+Command (\begin{DoxyParamCaption}\item[{}]{base\+URL}{, }\item[{}]{item\+Name}{, }\item[{}]{command}{, }\item[{}]{auth}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Sends a command to an OpenHAB item via REST API.
@param baseURL Base URL of the OpenHAB server
@param itemName Name of the OpenHAB item
@param command Command string (e.g., "ON", "OFF")
@param auth Tuple for HTTP Basic authentication
\end{DoxyVerb}
 \Hypertarget{namespacePepperControlTest_a0f4337a12b8076d0c411133b85077d2c}\index{PepperControlTest@{PepperControlTest}!start\_speech\_recognition@{start\_speech\_recognition}}
\index{start\_speech\_recognition@{start\_speech\_recognition}!PepperControlTest@{PepperControlTest}}
\doxysubsubsection{\texorpdfstring{start\_speech\_recognition()}{start\_speech\_recognition()}}
{\footnotesize\ttfamily \label{namespacePepperControlTest_a0f4337a12b8076d0c411133b85077d2c} 
Pepper\+Control\+Test.\+start\+\_\+speech\+\_\+recognition (\begin{DoxyParamCaption}\item[{}]{speech\+\_\+session}{, }\item[{}]{stop\+\_\+event}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Starts speech recognition loop and triggers command handling.
@param speech_session qi.Session object
@param stop_event Thread event to stop recognition
\end{DoxyVerb}
 